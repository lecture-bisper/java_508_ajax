<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Title</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
          crossorigin="anonymous"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <script>
    $(document).ready(function() {
      $("#btn-cal").on("click", function() {
        // 자바스크립트의 ES6 버전에서 변수를 선언하는데 사용하는 기호가 var, const, let 으로 3가지가 존재
        // const는 상수를 선언 시 사용
        // let은 var와 동일한 형태로 사용, 변수의 스코프가 let은 코드블럭을 기준으로 함
        // var 는 사용은 가능하지만 변수의 스코프가 함수를 기준으로 함
        const num1 = $("#num1").val();
        const num2 = $("#num2").val();
        const datas = {num1: num1, num2: num2};

        $.ajax({
          url: "/ajax/cal",
          type: "POST",
          data: datas,
          success: function(data) {
            alert("서버와 통신이 성공했습니다.");
            console.log(data.result);
            $("#result").val(data.result);
          },
          error: function (err) {
            alert("서버와 통신 시 오류가 발생했습니다.");
          }
        });
      });
    });
  </script>

</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md">
        <div class="my-3">
          <label for="num1" class="form-label">숫자 1 : </label>
          <input type="text" id="num1" name="num1" class="form-control" placeholder="숫자를 입력하세요">
        </div>
        <div class="my-3">
          <label for="num2" class="form-label">숫자 2 : </label>
          <input type="text" id="num2" name="num2" class="form-control" placeholder="숫자를 입력하세요">
        </div>
        <div class="my-3">
          <label for="result" class="form-label">결과 : </label>
          <input type="text" id="result" name="result" class="form-control" placeholder="현재 결과가 없습니다.">
        </div>
        <hr>
        <div class="my-3">
          <button type="button" id="btn-cal" class="btn btn-primary">계산하기</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>